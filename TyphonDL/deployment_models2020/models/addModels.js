db.models.insert([{"_id":UUID(), "version":1, "initializedDatabases":false, "initializedConnections":true, "contents":"<?xml version=\"1.0\" encoding=\"UTF-8\"?><typhonDL:DeploymentModel xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:typhonDL=\"http://www.typhon.org/dsls/xtext/TyphonDL\">  <guiMetaInformation xsi:type=\"typhonDL:Import\" relativePath=\"ecommerce_models2020.xmi\"/>  <guiMetaInformation xsi:type=\"typhonDL:Import\" relativePath=\"RelationalDatabase.tdl\"/>  <guiMetaInformation xsi:type=\"typhonDL:Import\" relativePath=\"DocumentDatabase.tdl\"/>  <guiMetaInformation xsi:type=\"typhonDL:Import\" relativePath=\"dbTypes.tdl\"/>  <elements xsi:type=\"typhonDL:ContainerType\" name=\"Docker\"/>  <elements xsi:type=\"typhonDL:ClusterType\" name=\"DockerCompose\"/>  <elements xsi:type=\"typhonDL:PlatformType\" name=\"localhost\"/>  <elements xsi:type=\"typhonDL:Platform\" name=\"platformName\" type=\"//@elements.2\">    <clusters name=\"clusterName\" type=\"//@elements.1\">      <applications name=\"Polystore\">        <containers name=\"relationaldatabase\" type=\"//@elements.0\">          <deploys>            <reference href=\"../TyphonDL_noNLAE/RelationalDatabase.tdl#//@elements.0\"/>          </deploys>          <uri value=\"relationaldatabase:3306\"/>        </containers>        <containers name=\"documentdatabase\" type=\"//@elements.0\">          <deploys>            <reference href=\"../TyphonDL_noNLAE/DocumentDatabase.tdl#//@elements.0\"/>          </deploys>          <uri value=\"documentdatabase:27017\"/>        </containers>        <containers name=\"polystore-mongo\" type=\"//@elements.0\">          <deploys reference=\"//@elements.8\"/>          <uri value=\"polystore-mongo:27017\"/>          <properties xsi:type=\"typhonDL:Key_ValueArray\" name=\"volumes\">            <values>./models/:/docker-entrypoint-initdb.d</values>          </properties>        </containers>        <containers name=\"typhon-polystore-service\" type=\"//@elements.0\">          <deploys reference=\"//@elements.9\"/>          <ports>            <key_values name=\"published\" value=\"8080\"/>            <key_values name=\"target\" value=\"8080\"/>          </ports>          <uri value=\"typhon-polystore-service:8080\"/>          <properties xsi:type=\"typhonDL:Key_ValueArray\" name=\"entrypoint\">            <values>wait-for-it</values>            <values>polystore-mongo:27017</values>            <values>-t</values>            <values>'60'</values>            <values>--</values>            <values>java</values>            <values>-cp</values>            <values>/app/resources:/app/classes:/app/libs/*</values>            <values>com.clms.typhonapi.Application</values>          </properties>          <properties xsi:type=\"typhonDL:Key_Values\" name=\"restart\" value=\"always\"/>        </containers>        <containers name=\"polystore-ui\" type=\"//@elements.0\">          <deploys reference=\"//@elements.10\"/>          <depends_on reference=\"//@elements.3/@clusters.0/@applications.0/@containers.3\"/>          <ports>            <key_values name=\"published\" value=\"4200\"/>            <key_values name=\"target\" value=\"4200\"/>          </ports>          <uri value=\"polystore-ui:4200\"/>        </containers>        <containers name=\"typhonql-server\" type=\"//@elements.0\">          <deploys reference=\"//@elements.11\"/>          <uri value=\"typhonql-server:7000\"/>          <properties xsi:type=\"typhonDL:Key_Values\" name=\"restart\" value=\"always\"/>        </containers>        <containers name=\"kafka\" type=\"//@elements.0\">          <deploys reference=\"//@elements.13\"/>          <depends_on reference=\"//@elements.3/@clusters.0/@applications.0/@containers.8\"/>          <ports>            <key_values name=\"published\" value=\"29092\"/>            <key_values name=\"target\" value=\"29092\"/>          </ports>          <uri value=\"kafka:29092\"/>        </containers>        <containers name=\"authAll\" type=\"//@elements.0\">          <deploys reference=\"//@elements.16\"/>        </containers>        <containers name=\"zookeeper\" type=\"//@elements.0\">          <deploys reference=\"//@elements.12\"/>          <ports>            <key_values name=\"published\" value=\"2181\"/>            <key_values name=\"target\" value=\"2181\"/>          </ports>          <uri value=\"kafka:2181\"/>        </containers>        <containers name=\"taskmanager\" type=\"//@elements.0\">          <deploys reference=\"//@elements.15\"/>          <depends_on reference=\"//@elements.3/@clusters.0/@applications.0/@containers.10\"/>          <properties xsi:type=\"typhonDL:Key_Values\" name=\"command\" value=\"taskmanager\"/>          <properties xsi:type=\"typhonDL:Key_ValueArray\" name=\"expose\">            <values>6121</values>            <values>6122</values>          </properties>        </containers>        <containers name=\"jobmanager\" type=\"//@elements.0\">          <deploys reference=\"//@elements.14\"/>          <ports>            <key_values name=\"published\" value=\"8081\"/>            <key_values name=\"target\" value=\"8081\"/>          </ports>          <volumes>            <decls>              <volumePath value=\"./flinkJar/:/opt/flink/usrlib/\"/>            </decls>          </volumes>          <properties xsi:type=\"typhonDL:Key_Values\" name=\"command\" value=\"jobmanager\"/>          <properties xsi:type=\"typhonDL:Key_ValueArray\" name=\"expose\">            <values>6123</values>          </properties>        </containers>        <containers name=\"evolution-mongo\" type=\"//@elements.0\">          <deploys reference=\"//@elements.18\"/>          <uri value=\"evolution-mongo:evolution-backend\"/>        </containers>        <containers name=\"evolution-java\" type=\"//@elements.0\">          <deploys reference=\"//@elements.17\"/>          <depends_on reference=\"//@elements.3/@clusters.0/@applications.0/@containers.11\"/>          <depends_on reference=\"//@elements.3/@clusters.0/@applications.0/@containers.3\"/>          <depends_on reference=\"//@elements.3/@clusters.0/@applications.0/@containers.6\"/>        </containers>        <containers name=\"evolution-backend\" type=\"//@elements.0\">          <deploys reference=\"//@elements.19\"/>          <depends_on reference=\"//@elements.3/@clusters.0/@applications.0/@containers.11\"/>          <uri value=\"evolution-backend:3000\"/>        </containers>        <containers name=\"evolution-frontend\" type=\"//@elements.0\">          <deploys reference=\"//@elements.20\"/>          <depends_on reference=\"//@elements.3/@clusters.0/@applications.0/@containers.13\"/>          <ports>            <key_values name=\"target\" value=\"5000\"/>            <key_values name=\"published\" value=\"5000\"/>          </ports>          <uri value=\"evolution-frontend:5000\"/>        </containers>      </applications>    </clusters>  </elements>  <elements xsi:type=\"typhonDL:DB\" name=\"RelationalDatabase\">    <type href=\"../TyphonDL_noNLAE/dbTypes.tdl#//@elements.1\"/>    <credentials username=\"root\" password=\"nDAgSPJXjphhDTqN\"/>  </elements>  <elements xsi:type=\"typhonDL:DB\" name=\"DocumentDatabase\">    <type href=\"../TyphonDL_noNLAE/dbTypes.tdl#//@elements.0\"/>    <credentials username=\"admin\" password=\"tlrDTRVeRuCnlZsa\"/>  </elements>  <elements xsi:type=\"typhonDL:DBType\" name=\"MariaDB\">    <image value=\"mariadb:latest\"/>  </elements>  <elements xsi:type=\"typhonDL:DBType\" name=\"Mongo\">    <image value=\"mongo:latest\"/>  </elements>  <elements xsi:type=\"typhonDL:DB\" name=\"polystore_db\" type=\"//@elements.7\">    <environment>      <parameters name=\"MONGO_INITDB_DATABASE\" value=\"admin\"/>    </environment>    <credentials username=\"admin\" password=\"admin\"/>  </elements>  <elements xsi:type=\"typhonDL:Software\" name=\"polystore_api\">    <image value=\"clms/typhon-polystore-api:latest\"/>  </elements>  <elements xsi:type=\"typhonDL:Software\" name=\"polystore_ui\">    <image value=\"clms/typhon-polystore-ui:latest\"/>    <environment>      <parameters name=\"API_PORT\" value=\"&quot;8080&quot;\"/>      <parameters name=\"API_HOST\" value=\"&quot;localhost&quot;\"/>    </environment>  </elements>  <elements xsi:type=\"typhonDL:Software\" name=\"polystore_ql\">    <image value=\"swatengineering/typhonql-server\"/>  </elements>  <elements xsi:type=\"typhonDL:Software\" name=\"zookeeper\">    <image value=\"wurstmeister/zookeeper\"/>  </elements>  <elements xsi:type=\"typhonDL:Software\" name=\"Kafka\">    <image value=\"wurstmeister/kafka:2.12-2.4.0\"/>    <environment>      <parameters name=\"KAFKA_ZOOKEEPER_CONNECT\" value=\"zookeeper:2181\"/>      <parameters name=\"KAFKA_ADVERTISED_HOST_NAME\" value=\"kafka\"/>      <parameters name=\"KAFKA_LISTENERS\" value=\"OUTSIDE://:29092, INSIDE://:9092\"/>      <parameters name=\"KAFKA_LISTENER_SECURITY_PROTOCOL_MAP\" value=\"INSIDE:PLAINTEXT, OUTSIDE:PLAINTEXT\"/>      <parameters name=\"KAFKA_INTER_BROKER_LISTENER_NAME\" value=\"INSIDE\"/>      <parameters name=\"KAFKA_ADVERTISED_LISTENERS\" value=\"OUTSIDE://kafka:29092, INSIDE://:9092\"/>      <parameters name=\"KAFKA_AUTO_CREATE_TOPICS_ENABLE\" value=\"&quot;true&quot;\"/>    </environment>  </elements>  <elements xsi:type=\"typhonDL:Software\" name=\"FlinkJobmanager\">    <image value=\"flink:latest\"/>    <environment>      <parameters name=\"JOB_MANAGER_RPC_ADDRESS\" value=\"jobmanager\"/>    </environment>  </elements>  <elements xsi:type=\"typhonDL:Software\" name=\"FlinkTaskmanager\">    <image value=\"flink:latest\"/>    <environment>      <parameters name=\"JOB_MANAGER_RPC_ADDRESS\" value=\"jobmanager\"/>    </environment>  </elements>  <elements xsi:type=\"typhonDL:Software\" name=\"authAll\">    <image value=\"zolotas4/typhon-analytics-auth-all\"/>  </elements>  <elements xsi:type=\"typhonDL:Software\" name=\"evolution-java\">    <image value=\"meuriceloup/typhon-evolution-analytics-java:latest\"/>    <environment>      <parameters name=\"ANALYTICS_DB_USER\" value=\"admin\"/>      <parameters name=\"ANALYTICS_DB_NAME\" value=\"Analytics\"/>      <parameters name=\"KAFKA_CHANNEL_PORT\" value=\"9092\"/>      <parameters name=\"WEBSERVICE_PASSWORD\" value=\"admin1@\"/>      <parameters name=\"ANALYTICS_DB_IP\" value=\"evolution-mongo\"/>      <parameters name=\"WAKEUP_TIME_MS_FREQUENCY\" value=\"10000\"/>      <parameters name=\"WEBSERVICE_USERNAME\" value=\"admin\"/>      <parameters name=\"KAFKA_CHANNEL_IP\" value=\"kafka\"/>      <parameters name=\"ANALYTICS_DB_PWD\" value=\"admin\"/>      <parameters name=\"ANALYTICS_DB_PORT\" value=\"27017\"/>      <parameters name=\"WEBSERVICE_URL\" value=\"http://typhon-polystore-service:8080/\"/>    </environment>  </elements>  <elements xsi:type=\"typhonDL:DB\" name=\"evolution-mongo\" type=\"//@elements.7\">    <environment>      <parameters name=\"MONGO_INITDB_DATABASE\" value=\"Analytics\"/>    </environment>    <credentials username=\"admin\" password=\"admin\"/>  </elements>  <elements xsi:type=\"typhonDL:Software\" name=\"evolution-backend\">    <image value=\"meuriceloup/typhon-evolution-analytics-backend:latest\"/>    <environment>      <parameters name=\"ANALYTICS_DB_URL\" value=\"mongodb://evolution-mongo:27017/\"/>      <parameters name=\"BACKEND_DEPLOYMENT_PORT\" value=\"3000\"/>      <parameters name=\"ANALYTICS_DB_USER\" value=\"admin\"/>      <parameters name=\"ANALYTICS_DB_NAME\" value=\"Analytics\"/>      <parameters name=\"ANALYTICS_DB_PWD\" value=\"admin\"/>      <parameters name=\"WEBSERVICE_PASSWORD\" value=\"admin1@\"/>      <parameters name=\"WEBSERVICE_USERNAME\" value=\"admin\"/>      <parameters name=\"WEBSERVICE_URL\" value=\"http://typhon-polystore-service:8080/\"/>    </environment>  </elements>  <elements xsi:type=\"typhonDL:Software\" name=\"evolution-frontend\">    <image value=\"meuriceloup/typhon-evolution-analytics-client:latest\"/>    <environment>      <parameters name=\"BACKEND_ENDPOINT\" value=\"http://evolution-backend:3000\"/>    </environment>  </elements>  <elements xsi:type=\"typhonDL:Software\" name=\"nlae\" external=\"true\">    <uri value=\"localhost:8081\"/>  </elements></typhonDL:DeploymentModel>", "type":"DL", "dateReceived":ISODate(), "_class":"com.clms.typhonapi.models.Model" }, {"_id":UUID(), "version":1, "initializedDatabases":false, "initializedConnections":false, "contents":"<?xml version=\"1.0\" encoding=\"ASCII\"?><typhonml:Model xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:typhonml=\"http://org.typhon.dsls.typhonml.sirius\">  <entities name=\"Review\">    <attributes xsi:type=\"typhonml:Attribute\" name=\"id\">      <type xsi:type=\"typhonml:StringType\" maxSize=\"32\"/>    </attributes>    <attributes xsi:type=\"typhonml:Attribute\" name=\"content\">      <type xsi:type=\"typhonml:StringType\" maxSize=\"32\"/>    </attributes>    <relations name=\"product\" type=\"//@entities.1\" cardinality=\"one\"/>  </entities>  <entities name=\"Product\">    <attributes xsi:type=\"typhonml:Attribute\" name=\"id\">      <type xsi:type=\"typhonml:StringType\" maxSize=\"32\"/>    </attributes>    <attributes xsi:type=\"typhonml:Attribute\" name=\"name\">      <type xsi:type=\"typhonml:StringType\" maxSize=\"32\"/>    </attributes>    <attributes xsi:type=\"typhonml:Attribute\" name=\"description\">      <type xsi:type=\"typhonml:StringType\" maxSize=\"32\"/>    </attributes>    <relations name=\"orders\" type=\"//@entities.2\" cardinality=\"zero_many\"/>    <relations name=\"review\" type=\"//@entities.0\" cardinality=\"zero_many\" opposite=\"//@entities.0/@relations.0\" isContainment=\"true\"/>  </entities>  <entities name=\"OrderProduct\">    <attributes xsi:type=\"typhonml:Attribute\" name=\"id\">      <type xsi:type=\"typhonml:StringType\" maxSize=\"32\"/>    </attributes>    <attributes xsi:type=\"typhonml:Attribute\" name=\"product_date\">      <type xsi:type=\"typhonml:DatetimeType\"/>    </attributes>    <attributes xsi:type=\"typhonml:Attribute\" name=\"totalAmount\">      <type xsi:type=\"typhonml:BigintType\"/>    </attributes>    <attributes xsi:type=\"typhonml:Attribute\" name=\"paidWith\">      <type xsi:type=\"typhonml:StringType\"/>    </attributes>    <relations name=\"products\" type=\"//@entities.1\" cardinality=\"zero_many\" opposite=\"//@entities.2/@relations.0\"/>    <relations name=\"users\" type=\"//@entities.3\" cardinality=\"one\" opposite=\"//@entities.3/@relations.0\"/>  </entities>  <entities name=\"User\">    <attributes xsi:type=\"typhonml:Attribute\" name=\"id\">      <type xsi:type=\"typhonml:StringType\" maxSize=\"32\"/>    </attributes>    <attributes xsi:type=\"typhonml:Attribute\" name=\"name\">      <type xsi:type=\"typhonml:StringType\" maxSize=\"32\"/>    </attributes>    <attributes xsi:type=\"typhonml:Attribute\" name=\"comments\">      <type xsi:type=\"typhonml:StringType\"/>    </attributes>    <attributes xsi:type=\"typhonml:Attribute\" name=\"paymentsDetails\">      <type xsi:type=\"typhonml:StringType\"/>    </attributes>    <relations name=\"orders\" type=\"//@entities.2\" cardinality=\"zero_many\"/>  </entities>  <databases xsi:type=\"typhonml:RelationalDB\" name=\"RelationalDatabase\">    <tables name=\"OrderDB\" entity=\"//@entities.2\">      <indexSpec name=\"orderIndex\" attributes=\"//@entities.2/@attributes.0\"/>      <idSpec attributes=\"//@entities.2/@attributes.0\"/>    </tables>    <tables name=\"UserDB\" entity=\"//@entities.3\">      <indexSpec name=\"userIndex\" attributes=\"//@entities.3/@attributes.1\"/>      <idSpec attributes=\"//@entities.3/@attributes.1\"/>    </tables>    <tables name=\"ProductDB\" entity=\"//@entities.1\">      <indexSpec name=\"productIndex\" attributes=\"//@entities.1/@attributes.1\"/>      <idSpec attributes=\"//@entities.1/@attributes.1\"/>    </tables>  </databases>  <databases xsi:type=\"typhonml:DocumentDB\" name=\"DocumentDatabase\">    <collections name=\"ReviewDB\" entity=\"//@entities.0\"/>  </databases></typhonml:Model>", "type":"ML", "dateReceived":ISODate(), "_class":"com.clms.typhonapi.models.Model" }]);